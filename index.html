<!DOCTYPE html>
<html lang="pt-BR">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Pra VocÃª, Com Amor â¤ï¸</title>
    <link rel="stylesheet" href="styles.css">
  </head>
  <body>
    <div class="stars" id="stars"></div>

    <!-- Lightbox -->
    <div class="lightbox" id="lightbox">
      <button class="lightbox-close" onclick="closeLightbox()">âœ•</button>
      <button class="lightbox-prev" onclick="navigateLightbox(-1)">â€¹</button>
      <button class="lightbox-next" onclick="navigateLightbox(1)">â€º</button>
      <div class="lightbox-content">
        <img
          class="lightbox-image"
          id="lightboxImage"
          src=""
          alt="Foto ampliada"
        />
      </div>
    </div>

    <!-- Music Visualizer -->
    <div class="music-visualizer" id="musicVisualizer">
      <div class="visualizer-title">ğŸµ Visualizador Musical</div>
      <div class="visualizer-bars" id="visualizerBars"></div>
    </div>

    <!-- Substitua TODO o Music Player por este cÃ³digo -->
    <div class="music-player">
      <button class="player-toggle" onclick="togglePlayer()">
        ğŸµ Trilha Sonora de Sindoca
      </button>
      <div class="player-content" id="playerContent">
        <iframe
          data-testid="embed-iframe"
          style="border-radius: 12px"
          src="https://open.spotify.com/embed/playlist/1AIzrmUSMbyU8vl1rR63mZ?utm_source=generator"
          width="100%"
          height="352"
          frameborder="0"
          allow="autoplay; clipboard-write; encrypted-media; fullscreen; picture-in-picture"
          loading="lazy"
        ></iframe>
      </div>
    </div>

    <div class="container">
      <div class="header">
        <h1>Para a Pessoa Mais IncrÃ­vel do Mundo</h1>
        <p>Um cantinho especial feito com muito carinho (e algumas risadas)</p>
      </div>

      <!-- Days Counter -->
      <div class="days-counter">
        <div class="counter-title">Juntos hÃ¡...</div>
        <div class="counter-display">
          <div class="counter-item">
            <span class="counter-number" id="days">0</span>
            <span class="counter-label">Dias</span>
          </div>
          <div class="counter-item">
            <span class="counter-number" id="hours">0</span>
            <span class="counter-label">Horas</span>
          </div>
          <div class="counter-item">
            <span class="counter-number" id="minutes">0</span>
            <span class="counter-label">Minutos</span>
          </div>
        </div>
        <p
          style="
            margin-top: 30px;
            font-family: 'Dancing Script', cursive;
            font-size: 1.6em;
            opacity: 0.95;
          "
        >
          E cada segundo vale ouro! âœ¨
        </p>
      </div>

      <div class="section" id="sky">
        <h2 class="section-title">Nosso CÃ©u Estrelado ğŸŒŒ</h2>
        <p
          style="
            text-align: center;
            font-size: 1.1em;
            opacity: 0.9;
            margin-bottom: 30px;
          "
        >
          Cada estrela representa um momento especial que vivemos juntos
        </p>

      <div class="section">
        <div class="message-box">
          Como o sol que ilumina a manhÃ£, vocÃª traz luz para todos os meus dias.
          Seu sorriso tem o poder de transformar o comum em extraordinÃ¡rio.
        </div>
      </div>

      <!-- Timeline -->
      <div class="timeline-section">
        <h2 class="timeline-title">Nossa HistÃ³ria ğŸ’•</h2>
        <div class="timeline-container">
          <div class="timeline-line">
            <div class="timeline-progress" id="timelineProgress"></div>
          </div>

          <div class="timeline-item">
            <div class="timeline-content" onclick="revealSecret(this)">
              <div class="timeline-date">ğŸŒŸ O Primeiro Olhar</div>
              <div class="timeline-text">
                Quando nossos olhares se cruzaram pela primeira vez, eu soube
                que algo especial estava comeÃ§ando...
              </div>
              <div class="secret-hint">
                ğŸ’­ Clique para revelar uma mensagem secreta...
              </div>
              <div class="timeline-secret">
                "Pois naquele momento eu vi que vocÃª era especial." ğŸŒˆğŸ§©
              </div>
            </div>
            <div class="timeline-dot"></div>
          </div>

          <div class="timeline-item">
            <div class="timeline-content" onclick="revealSecret(this)">
              <div class="timeline-date">ğŸ’¬ O Retorno das Conversas</div>
              <div class="timeline-text">
                Conversas que nem sempre duravam horas, risadas que as vezes
                podiam ter fim, mas havia a sensaÃ§Ã£o de que conhecia vocÃª hÃ¡
                muito mais tempo...
              </div>
              <div class="secret-hint">
                ğŸ’­ Clique para revelar uma mensagem secreta...
              </div>
              <div class="timeline-secret">
                "Cada palavra sua Ã© mÃºsica para meus ouvidos. Eu podia passar a
                eternidade apenas te ouvindo falar." ğŸµ
              </div>
            </div>
            <div class="timeline-dot"></div>
          </div>

          <div class="timeline-item">
            <div class="timeline-content" onclick="revealSecret(this)">
              <div class="timeline-date">A Primeira Viagem</div>
              <div class="timeline-text">
                E nada mais importava alÃ©m daquele momento mÃ¡gico...
              </div>
              <div class="secret-hint">
                ğŸ’­ Clique para revelar uma mensagem secreta...
              </div>
              <div class="timeline-secret">
                "Se pudesse, eu reviveria momentos assim mil vezes. Foi perfeito
                de todas as formas possÃ­veis." â¤ï¸
              </div>
            </div>
            <div class="timeline-dot"></div>
          </div>

          <div class="timeline-item">
            <div class="timeline-content" onclick="revealSecret(this)">
              <div class="timeline-date">ğŸŒˆ RolÃªs Juntos</div>
              <div class="timeline-text">
                Cada lugar que visitamos, cada experiÃªncia que compartilhamos,
                cada risada que demos - tudo se tornou uma memÃ³ria preciosa...
              </div>
              <div class="secret-hint">
                ğŸ’­ Clique para revelar uma mensagem secreta...
              </div>
              <div class="timeline-secret">
                "Com vocÃª, atÃ© os momentos mais simples se transformam em
                aventuras extraordinÃ¡rias. VocÃª Ã© uma das minhas pessoas
                favoritas!" ğŸŒ
              </div>
            </div>
            <div class="timeline-dot"></div>
          </div>

          <div class="timeline-item">
            <div class="timeline-content" onclick="revealSecret(this)">
              <div class="timeline-date">âœ¨ Hoje e Sempre</div>
              <div class="timeline-text">
                E aqui estamos nÃ³s, construindo nosso futuro juntos, um dia de
                cada vez, cheios de cumplicidade...
              </div>
              <div class="secret-hint">
                ğŸ’­ Clique para revelar uma mensagem secreta...
              </div>
              <div class="timeline-secret">
                "NÃ£o importa o que o futuro reserve, eu quero viver cada momento
                ao seu lado. VocÃª Ã© meu para sempre!" ğŸ’ğŸ‘€
              </div>
            </div>
            <div class="timeline-dot"></div>
          </div>
        </div>
      </div>

      <div class="section">
        <h2 class="section-title">Nossos Momentos âœ¨</h2>
        <div class="photo-grid">
          <div class="photo-card" onclick="openLightbox(0)">
            <img src="images/img1.jpg" alt="" />
          </div>
          <div class="photo-card" onclick="openLightbox(1)">
            <img src="images/img2.jpg" alt="" />
          </div>
          <div class="photo-card" onclick="openLightbox(2)">
            <img src="images/img3.jpg" alt="" />
          </div>
          <div class="photo-card" onclick="openLightbox(3)">
            <img src="images/img4.jpg" alt="" />
          </div>
        </div>
      </div>

      <div class="section">
        <div class="message-box music-inspired">
          NÃ£o me importo que ela nÃ£o me olhe.<br />
          NÃ£o diga nada e nem saiba que eu existo, quem eu sou.<br />
          Pois eu sei muito bem quem ela Ã©.<br />
          E fico contente sÃ³ em ver ela passar
        </div>
      </div>

      <div class="section">
        <div class="photo-grid">
          <div class="photo-card" onclick="openLightbox(4)">
            <img src="images/img5.jpg" alt="" />
          </div>
          <div class="photo-card" onclick="openLightbox(5)">
            <img src="images/img6.jpg" alt="" />
          </div>
          <div class="photo-card" onclick="openLightbox(6)">
            <img src="images/img7.jpg" alt="" />
          </div>
        </div>
      </div>

      <div class="section">
        <div class="message-box">
          VocÃª Ã© meu caminho. <br />
          Meu vinho.<br />
          Meu vÃ­cio.<br />
          Desde o inicio.
        </div>
      </div>

      <div class="section">
        <h2 class="section-title">Coisas que Eu Amo em VocÃª ğŸ˜„</h2>
        <div class="funny-facts">
          <div class="fact-card" onclick="createParticles(event)">
            <span class="fact-emoji">ğŸ˜‚</span>
            <div class="fact-text">
              Seu senso de humor que me faz feliz atÃ© nos dias cinzas
            </div>
          </div>
          <div class="fact-card" onclick="createParticles(event)">
            <span class="fact-emoji">ğŸµ</span>
            <div class="fact-text">
              Seu gosto musical impecÃ¡vel (sÃ©rio, vocÃª arrasa!)
            </div>
          </div>
          <div class="fact-card" onclick="createParticles(event)">
            <span class="fact-emoji">âœ¨</span>
            <div class="fact-text">
              O jeito como seu sorriso ilumina qualquer ambiente
            </div>
          </div>
          <div class="fact-card" onclick="createParticles(event)">
            <span class="fact-emoji">ğŸ’­</span>
            <div class="fact-text">
              Nossas conversas que parecem nunca acabar, apesar de tudo
            </div>
          </div>
          <div class="fact-card" onclick="createParticles(event)">
            <span class="fact-emoji">ğŸŒŸ</span>
            <div class="fact-text">Sua forÃ§a e determinaÃ§Ã£o admirÃ¡veis</div>
          </div>
          <div class="fact-card" onclick="createParticles(event)">
            <span class="fact-emoji">ğŸ’«</span>
            <div class="fact-text">O carinho e atenÃ§Ã£o que vocÃª tem comigo</div>
          </div>
        </div>
      </div>

      <div class="section">
        <div class="photo-grid">
          <div class="photo-card" onclick="openLightbox(7)">
            <img src="images/img8.jpg" alt="" />
          </div>
          <div class="photo-card" onclick="openLightbox(8)">
            <img src="images/img9.jpg" alt="" />
          </div>
          <div class="photo-card" onclick="openLightbox(9)">
            <img src="images/img10.jpg" alt="" />
          </div>
        </div>
      </div>

      <div class="section">
        <div class="message-box music-inspired">
          Que seja real alÃ©m da conta, o que a gente precisa Ã© aprender sonhar
        </div>
      </div>

      <div class="section">
        <div class="interactive-heart">
          <h2
            style="
              font-family: 'Playfair Display', serif;
              font-size: 2.5em;
              margin-bottom: 30px;
              font-weight: 700;
            "
          >
            Clique no coraÃ§Ã£o! â¤ï¸
          </h2>
          <button class="heart-button" id="heartBtn" onclick="clickHeart()">
            â¤ï¸
          </button>
          <div class="counter">
            VocÃª foi amada <span id="loveCounter">99</span> vezes hoje!
          </div>
        </div>
      </div>

      <div class="section">
        <div class="final-message">
          Obrigado por ser vocÃª, por ser incrÃ­vel, por estar na minha vida. VocÃª
          Ã© especial demais!
        </div>
      </div>
    </div>

    <script>
      // ===== CONFIGURAÃ‡ÃƒO - ALTERE AQUI =====
      const startDate = new Date('2025-03-20T00:00:00'); // Data de inÃ­cio do relacionamento

      // ===== CRIAR ESTRELAS =====
      const starsContainer = document.getElementById('stars');
      for (let i = 0; i < 150; i++) {
        const star = document.createElement('div');
        star.className = 'star';
        star.style.left = Math.random() * 100 + '%';
        star.style.top = Math.random() * 100 + '%';
        star.style.animationDelay = Math.random() * 3 + 's';
        star.style.animationDuration = 2 + Math.random() * 2 + 's';
        starsContainer.appendChild(star);
      }

      // ===== LIGHTBOX =====
      let currentPhotoIndex = 0;
      const photoPlaceholders = document.querySelectorAll('.photo-card');

      function openLightbox(index) {
        currentPhotoIndex = index;
        const lightbox = document.getElementById('lightbox');
        lightbox.classList.add('active');
        document.getElementById('lightboxImage').src =
          'images/img' + (index + 1) + '.jpg';
        document.getElementById('lightboxImage').alt = `Foto ${index + 1}`;
      }

      function closeLightbox() {
        document.getElementById('lightbox').classList.remove('active');
      }

      function navigateLightbox(direction) {
        currentPhotoIndex += direction;
        if (currentPhotoIndex < 0)
          currentPhotoIndex = photoPlaceholders.length - 1;
        if (currentPhotoIndex >= photoPlaceholders.length)
          currentPhotoIndex = 0;
        openLightbox(currentPhotoIndex);
      }

      document.addEventListener('keydown', (e) => {
        if (e.key === 'Escape') closeLightbox();
        if (e.key === 'ArrowLeft') navigateLightbox(-1);
        if (e.key === 'ArrowRight') navigateLightbox(1);
      });

      document.getElementById('lightbox').addEventListener('click', (e) => {
        if (e.target.id === 'lightbox') closeLightbox();
      });

      // ===== MUSIC PLAYER (SIMPLES E FUNCIONAL) =====
      function togglePlayer() {
        const content = document.getElementById('playerContent');
        const isOpening = !content.classList.contains('active');
        content.classList.toggle('active');

        // Carregar primeira mÃºsica quando abrir
        if (isOpening) {
          const iframe = document.getElementById('ytPlayer');
          if (!iframe.src) {
            iframe.src = 'https://www.youtube.com/embed/hcm55wU9bqo';
          }
        }
      }

      function changeVideo(videoId, element) {
        const iframe = document.getElementById('ytPlayer');
        iframe.src = `https://www.youtube.com/embed/${videoId}?autoplay=1`;

        // Atualizar visual da playlist
        document.querySelectorAll('.playlist-item').forEach((item) => {
          item.classList.remove('playing');
        });
        if (element) {
          element.classList.add('playing');
        }

        // Ativar visualizador
        startVisualizer();

        console.log('âœ… Tocando:', videoId);
      }

      // ===== MUSIC VISUALIZER =====
      const visualizerBars = document.getElementById('visualizerBars');
      if (visualizerBars) {
        for (let i = 0; i < 20; i++) {
          const bar = document.createElement('div');
          bar.className = 'visualizer-bar';
          visualizerBars.appendChild(bar);
        }
      }

      let visualizerInterval;

      function startVisualizer() {
        const visualizer = document.getElementById('musicVisualizer');
        if (visualizer) {
          visualizer.classList.add('active');
          const bars = document.querySelectorAll('.visualizer-bar');

          if (visualizerInterval) clearInterval(visualizerInterval);

          visualizerInterval = setInterval(() => {
            bars.forEach((bar) => {
              const height = Math.random() * 60 + 10;
              bar.style.height = height + 'px';
            });
          }, 100);
        }
      }

      function stopVisualizer() {
        const visualizer = document.getElementById('musicVisualizer');
        if (visualizer) {
          visualizer.classList.remove('active');
        }
        if (visualizerInterval) {
          clearInterval(visualizerInterval);
          visualizerInterval = null;
        }
      }

      // Tentar inicializar quando a pÃ¡gina carregar
      window.addEventListener('load', function () {
        console.log('PÃ¡gina carregada, aguardando API do YouTube...');

        // Se a API jÃ¡ carregou antes do evento load
        if (window.YT && window.YT.Player) {
          console.log('API do YouTube jÃ¡ disponÃ­vel!');
          // NÃ£o inicializar automaticamente, esperar o usuÃ¡rio abrir o player
        }
      });

      // ===== DAYS COUNTER =====
      function updateCounter() {
        const now = new Date();
        const diff = now - startDate;

        const days = Math.floor(diff / (1000 * 60 * 60 * 24));
        const hours = Math.floor(
          (diff % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60)
        );
        const minutes = Math.floor((diff % (1000 * 60 * 60)) / (1000 * 60));

        document.getElementById('days').textContent = days;
        document.getElementById('hours').textContent = hours;
        document.getElementById('minutes').textContent = minutes;
      }

      updateCounter();
      setInterval(updateCounter, 60000);

      // ===== TIMELINE ANIMATION =====
      const timelineObserver = new IntersectionObserver(
        (entries) => {
          entries.forEach((entry) => {
            if (entry.isIntersecting) {
              entry.target.classList.add('visible');
            }
          });
        },
        { threshold: 0.2 }
      );

      document.querySelectorAll('.timeline-item').forEach((item) => {
        timelineObserver.observe(item);
      });

      function updateTimelineProgress() {
        const timeline = document.querySelector('.timeline-container');
        const progress = document.getElementById('timelineProgress');

        if (timeline && progress) {
          const timelineRect = timeline.getBoundingClientRect();
          const windowHeight = window.innerHeight;

          if (timelineRect.top < windowHeight && timelineRect.bottom > 0) {
            const visibleHeight = Math.min(
              windowHeight - timelineRect.top,
              timelineRect.height
            );
            const percentage = (visibleHeight / timelineRect.height) * 100;
            progress.style.height =
              Math.max(0, Math.min(100, percentage)) + '%';
          }
        }
      }

      window.addEventListener('scroll', updateTimelineProgress);
      updateTimelineProgress();

      // ===== SECRET MESSAGES =====
      function revealSecret(element) {
        const secret = element.querySelector('.timeline-secret');
        const hint = element.querySelector('.secret-hint');

        if (secret && hint) {
          secret.classList.toggle('revealed');
          if (secret.classList.contains('revealed')) {
            hint.textContent = 'âœ¨ Mensagem revelada!';
            createParticles(event, 'âœ¨');
          } else {
            hint.textContent = 'ğŸ’­ Clique para revelar uma mensagem secreta...';
          }
        }
      }

      // ===== LOVE COUNTER =====
      let loveCount = 99;
      function clickHeart() {
        loveCount++;
        document.getElementById('loveCounter').textContent = loveCount;
        const btn = document.getElementById('heartBtn');
        btn.classList.add('clicked');
        setTimeout(() => btn.classList.remove('clicked'), 600);

        createParticles(event, 'â¤ï¸');

        for (let i = 0; i < 5; i++) {
          setTimeout(() => {
            const heart = document.createElement('div');
            heart.textContent = 'â¤ï¸';
            heart.style.position = 'fixed';
            heart.style.left =
              window.innerWidth / 2 + (Math.random() - 0.5) * 200 + 'px';
            heart.style.top = window.innerHeight + 'px';
            heart.style.fontSize = 1.5 + Math.random() + 'em';
            heart.style.pointerEvents = 'none';
            heart.style.zIndex = '1000';
            heart.style.transition = 'all 3s ease-out';
            document.body.appendChild(heart);

            setTimeout(() => {
              heart.style.top = '-100px';
              heart.style.opacity = '0';
              heart.style.transform = 'rotate(' + Math.random() * 360 + 'deg)';
            }, 100);

            setTimeout(() => heart.remove(), 3100);
          }, i * 100);
        }
      }

      // ===== ANIMATE SECTIONS =====
      const observer = new IntersectionObserver(
        (entries) => {
          entries.forEach((entry) => {
            if (entry.isIntersecting) {
              entry.target.style.opacity = '1';
              entry.target.style.transform = 'translateY(0)';
            }
          });
        },
        { threshold: 0.1 }
      );

      document.querySelectorAll('.section').forEach((section) => {
        section.style.opacity = '0';
        section.style.transform = 'translateY(50px)';
        section.style.transition = 'all 1s cubic-bezier(0.4, 0, 0.2, 1)';
        observer.observe(section);
      });

      // ===== PARALLAX EFFECT =====
      document.addEventListener('mousemove', (e) => {
        const stars = document.querySelectorAll('.star');
        const x = e.clientX / window.innerWidth;
        const y = e.clientY / window.innerHeight;

        stars.forEach((star, index) => {
          const speed = ((index % 3) + 1) * 0.5;
          const xOffset = (x - 0.5) * speed * 20;
          const yOffset = (y - 0.5) * speed * 20;
          star.style.transform = `translate(${xOffset}px, ${yOffset}px)`;
        });
      });
    </script>
  </body>
</html>
